function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{LtOX:function(e,t,n){"use strict";n.r(t);var a,i=n("ofXK"),r=n("ebz3"),o=n("FpXt"),l=n("tyNb"),c=n("UJnh"),d=n("fXoL"),s=n("AytR"),m=n("tk/3"),u=((a=function(){function e(t){_classCallCheck(this,e),this.http=t,this.endpoint="".concat(s.a.baseUrl,"/worklog/")}return _createClass(e,[{key:"getActivitiesUser",value:function(e){return this.http.get("".concat("".concat(s.a.baseUrl,"/home/actividades/"),e))}},{key:"getBitacora",value:function(){return this.http.get(this.endpoint)}},{key:"getBitacoraById",value:function(e){return this.http.get("".concat(this.endpoint).concat(e))}},{key:"createBitacora",value:function(e){return this.http.post(this.endpoint,e)}},{key:"updateBitacora",value:function(e,t){return this.http.put("".concat(this.endpoint).concat(e,"/"),t)}},{key:"deleteBitacora",value:function(e){return this.http.delete("".concat(this.endpoint).concat(e))}}]),e}()).\u0275fac=function(e){return new(e||a)(d["\u0275\u0275inject"](m.b))},a.\u0275prov=d["\u0275\u0275defineInjectable"]({token:a,factory:a.\u0275fac,providedIn:"root"}),a),p=n("7M+M"),f=n("B3M2"),v=n("/n7v"),h=n("V8h6"),b=n("njyG");function g(e,t){if(1&e){var n=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"tr"),d["\u0275\u0275elementStart"](1,"td"),d["\u0275\u0275elementStart"](2,"a",6),d["\u0275\u0275text"](3),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](4,"td"),d["\u0275\u0275text"](5),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](6,"td"),d["\u0275\u0275text"](7),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](8,"td"),d["\u0275\u0275elementStart"](9,"a",7),d["\u0275\u0275listener"]("click",(function(e){d["\u0275\u0275restoreView"](n);var a=t.$implicit;return d["\u0275\u0275nextContext"](2).goToLink(a.file)})),d["\u0275\u0275text"](10),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](11,"td"),d["\u0275\u0275elementStart"](12,"button",8),d["\u0275\u0275element"](13,"i",9),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](14,"button",10),d["\u0275\u0275listener"]("click",(function(e){d["\u0275\u0275restoreView"](n);var a=t.$implicit;return d["\u0275\u0275nextContext"](2).deleteBitacora(a.id)})),d["\u0275\u0275element"](15,"i",11),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()}if(2&e){var a=t.$implicit;d["\u0275\u0275advance"](2),d["\u0275\u0275propertyInterpolate1"]("routerLink","detail/",a.id,""),d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"](" ",a.emailFile," "),d["\u0275\u0275advance"](2),d["\u0275\u0275textInterpolate"](a.name),d["\u0275\u0275advance"](2),d["\u0275\u0275textInterpolate"](a.description),d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate"](a.file),d["\u0275\u0275advance"](2),d["\u0275\u0275propertyInterpolate1"]("routerLink","edit/",a.id,"")}}function S(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"div"),d["\u0275\u0275elementStart"](1,"table",4),d["\u0275\u0275elementStart"](2,"thead"),d["\u0275\u0275elementStart"](3,"tr"),d["\u0275\u0275elementStart"](4,"th"),d["\u0275\u0275text"](5,"Email"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](6,"th"),d["\u0275\u0275text"](7,"Nombre Labor"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](8,"th"),d["\u0275\u0275text"](9,"Descripci\xf3n"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](10,"th"),d["\u0275\u0275text"](11,"Adjunto"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](12,"th"),d["\u0275\u0275text"](13,"Opciones"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](14,"tbody"),d["\u0275\u0275template"](15,g,16,6,"tr",5),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()),2&e){var n=d["\u0275\u0275nextContext"]();d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("dtOptions",n.dtOptions),d["\u0275\u0275advance"](14),d["\u0275\u0275property"]("ngForOf",n.bitacoras)}}var E,y,k=((y=function(){function e(t,n,a){_classCallCheck(this,e),this.bitacoraService=t,this.alertService=n,this.confirmationDialogService=a,this.bitacoras=[],this.dtOptions={},this.loading=!1}return _createClass(e,[{key:"ngOnInit",value:function(){this.dataTableOptions(),this.getBitacoras()}},{key:"getBitacoras",value:function(){var e=this;this.bitacoraService.getBitacora().subscribe((function(t){e.bitacoras=t,e.loading=!0}),(function(e){console.log(e)}))}},{key:"deleteBitacora",value:function(e){var t=this;this.confirmationDialogService.confirmThis("\xbfEsta seguro que desea eliminar este registro ?",(function(){t.onDelete(e)}),(function(){}))}},{key:"onDelete",value:function(e){var t=this;this.bitacoraService.deleteBitacora(e).subscribe((function(){t.bitacoras=t.bitacoras.filter((function(t){return t.id!=parseInt(e)})),t.alertService.success("El registro ha sido eliminado de la bit\xe1cora",{keepAfterRouteChange:!0})}))}},{key:"dataTableOptions",value:function(){this.dtOptions={pageLength:10,language:c.a}}},{key:"goToLink",value:function(e){window.open(e,"_blank")}}]),e}()).\u0275fac=function(e){return new(e||y)(d["\u0275\u0275directiveInject"](u),d["\u0275\u0275directiveInject"](p.a),d["\u0275\u0275directiveInject"](f.a))},y.\u0275cmp=d["\u0275\u0275defineComponent"]({type:y,selectors:[["app-bitacora-list"]],decls:5,vars:2,consts:[[1,"col-md-12"],["cardTitle","Bit\xe1cora de Campo","cardClass","table-card",3,"options"],[1,"table-responsive","table-padding"],[4,"ngIf"],["datatable","",1,"table","table-hover",3,"dtOptions"],[4,"ngFor","ngForOf"],[3,"routerLink"],[3,"click"],["type","button",1,"btn","btn-icon","btn-info",3,"routerLink"],[1,"feather","icon-edit-2"],["type","button",1,"btn","btn-icon","btn-danger","left-margin",3,"click"],[1,"feather","icon-trash-2"]],template:function(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"div",0),d["\u0275\u0275elementStart"](1,"app-card",1),d["\u0275\u0275elementStart"](2,"div",2),d["\u0275\u0275template"](3,S,16,2,"div",3),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275element"](4,"app-confirmation-dialog")),2&e&&(d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("options",!1),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("ngIf",t.loading))},directives:[v.a,i.NgIf,h.a,b.a,i.NgForOf,l.i,l.g],styles:[""]}),y),x=((E=function(){function e(t,n){_classCallCheck(this,e),this.bitacoraService=t,this.route=n}return _createClass(e,[{key:"ngOnInit",value:function(){this.id=this.route.snapshot.params.id,this.getBitacora()}},{key:"getBitacora",value:function(){var e=this;this.bitacoraService.getBitacoraById(this.id).subscribe((function(t){e.bitacora=t}))}},{key:"goToLink",value:function(e){window.open(e,"_blank")}}]),e}()).\u0275fac=function(e){return new(e||E)(d["\u0275\u0275directiveInject"](u),d["\u0275\u0275directiveInject"](l.a))},E.\u0275cmp=d["\u0275\u0275defineComponent"]({type:E,selectors:[["app-bitacora-details"]],decls:27,vars:5,consts:[["cardTitle","Detalle Bitacora",3,"options"],[1,"row"],[1,"form-group","col-md-6"],["for",""],[3,"click"]],template:function(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"app-card",0),d["\u0275\u0275elementStart"](1,"div",1),d["\u0275\u0275elementStart"](2,"div",2),d["\u0275\u0275elementStart"](3,"label",3),d["\u0275\u0275elementStart"](4,"strong"),d["\u0275\u0275text"](5,"Email"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](6,"p"),d["\u0275\u0275text"](7),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](8,"div",2),d["\u0275\u0275elementStart"](9,"label",3),d["\u0275\u0275elementStart"](10,"strong"),d["\u0275\u0275text"](11,"Nombre Labor"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](12,"p"),d["\u0275\u0275text"](13),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](14,"div",2),d["\u0275\u0275elementStart"](15,"label",3),d["\u0275\u0275elementStart"](16,"strong"),d["\u0275\u0275text"](17,"Descripci\xf3n"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](18,"p"),d["\u0275\u0275text"](19),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](20,"div",2),d["\u0275\u0275elementStart"](21,"label",3),d["\u0275\u0275elementStart"](22,"strong"),d["\u0275\u0275text"](23,"Adjunto"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](24,"p"),d["\u0275\u0275elementStart"](25,"a",4),d["\u0275\u0275listener"]("click",(function(e){return t.goToLink(null==t.bitacora?null:t.bitacora.file)})),d["\u0275\u0275text"](26),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()),2&e&&(d["\u0275\u0275property"]("options",!1),d["\u0275\u0275advance"](7),d["\u0275\u0275textInterpolate"](null==t.bitacora?null:t.bitacora.emailFile),d["\u0275\u0275advance"](6),d["\u0275\u0275textInterpolate"](null==t.bitacora?null:t.bitacora.name),d["\u0275\u0275advance"](6),d["\u0275\u0275textInterpolate"](null==t.bitacora?null:t.bitacora.description),d["\u0275\u0275advance"](7),d["\u0275\u0275textInterpolate"](null==t.bitacora?null:t.bitacora.file))},directives:[v.a],styles:[""]}),E),C=n("3Pt+");function I(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"div",16),d["\u0275\u0275text"](1),d["\u0275\u0275elementEnd"]()),2&e){var n=d["\u0275\u0275nextContext"]();d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"](" ",n.getErrorMessage("date")," ")}}function F(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"option",17),d["\u0275\u0275text"](1),d["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;d["\u0275\u0275property"]("value",n[0]),d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate"](n[1])}}function _(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"div",16),d["\u0275\u0275text"](1),d["\u0275\u0275elementEnd"]()),2&e){var n=d["\u0275\u0275nextContext"]();d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"](" ",n.getErrorMessage("actividad")," ")}}var w,B,j=function(e){return{"invalid-input":e}},O=((w=function(){function e(t,n,a,i,r,o){_classCallCheck(this,e),this.formBuilder=t,this.route=n,this.router=a,this.alertService=i,this.location=r,this.bitacoraService=o,this.loading=!1,this.actividades=[]}return _createClass(e,[{key:"ngOnInit",value:function(){this.id=this.route.snapshot.params.id,this.isAddMode=!this.id,this.formInit(),this.title=this.isAddMode?"Nuevo Registro de Bitacora":"Editar Registro de Bitacora",this.getActivitiesUser()}},{key:"formInit",value:function(){this.bitacoraForm=this.formBuilder.group({date:["",C.D.required],description:[""],file:[""],actividad:[""],name_operator:[{value:"",disabled:!0}],codigo_zona:[{value:"",disabled:!0}],nombre_labor:[{value:"",disabled:!0}]})}},{key:"onSubmit",value:function(){this.loading=!0}},{key:"cancel",value:function(){this.location.back()}},{key:"getErrorMessage",value:function(e){var t="";return this.bitacoraForm.get(e).errors.required&&(t="El Campo es requerido."),t}},{key:"isValidField",value:function(e){var t=this.bitacoraForm.get(e).touched,n=this.bitacoraForm.get(e).dirty,a=!this.bitacoraForm.get(e).valid;return(t||n)&&a}},{key:"getActivitiesUser",value:function(){var e=this;this.bitacoraService.getActivitiesUser("1").subscribe((function(t){console.log("data",t),t.actividades.forEach((function(t){e.actividades.push([t.id,t.schedule_date,t.name_operator,t.codigo_zona,t.nombre_labor])}))}))}},{key:"selectDataUser",value:function(e){var t=this.actividades.filter((function(t){return t[0]==e}));this.bitacoraForm.get("name_operator").setValue(t[0][2]),this.bitacoraForm.get("codigo_zona").setValue(t[0][3]),this.bitacoraForm.get("nombre_labor").setValue(t[0][4])}},{key:"f",get:function(){return this.bitacoraForm.controls}}]),e}()).\u0275fac=function(e){return new(e||w)(d["\u0275\u0275directiveInject"](C.f),d["\u0275\u0275directiveInject"](l.a),d["\u0275\u0275directiveInject"](l.f),d["\u0275\u0275directiveInject"](p.a),d["\u0275\u0275directiveInject"](i.Location),d["\u0275\u0275directiveInject"](u))},w.\u0275cmp=d["\u0275\u0275defineComponent"]({type:w,selectors:[["app-bitacora-add-edit"]],decls:43,vars:12,consts:[[1,"row"],[1,"col-sm-12"],[3,"cardTitle","options"],[3,"formGroup","ngSubmit"],[1,"form-group","col-md-6"],["type","date","formControlName","date","placeholder","Fecha",1,"form-control",3,"ngClass"],["class","invalid-input-feedback",4,"ngIf"],["for",""],["formControlName","actividad",1,"form-control",3,"ngClass","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["type","text","formControlName","name_operator","placeholder","Operador",1,"form-control"],["type","text","formControlName","codigo_zona","placeholder","Zona",1,"form-control"],["type","text","formControlName","nombre_labor","placeholder","Labor",1,"form-control"],[1,"form-group","col-md-12"],["type","file","formControlName","file","placeholder","Evidencia",1,"form-control"],["type","file","accept","image/*","capture","camera","id","camera"],[1,"invalid-input-feedback"],[3,"value"]],template:function(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"div",0),d["\u0275\u0275elementStart"](1,"div",1),d["\u0275\u0275elementStart"](2,"app-card",2),d["\u0275\u0275elementStart"](3,"form",3),d["\u0275\u0275listener"]("ngSubmit",(function(e){return t.onSubmit()})),d["\u0275\u0275elementStart"](4,"div",0),d["\u0275\u0275elementStart"](5,"div",4),d["\u0275\u0275elementStart"](6,"label"),d["\u0275\u0275text"](7,"Fecha"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275element"](8,"input",5),d["\u0275\u0275template"](9,I,2,1,"div",6),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](10,"div",4),d["\u0275\u0275elementStart"](11,"label",7),d["\u0275\u0275text"](12,"Actividad"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](13,"select",8),d["\u0275\u0275listener"]("ngModelChange",(function(e){return t.selectDataUser(e)})),d["\u0275\u0275template"](14,F,2,2,"option",9),d["\u0275\u0275elementEnd"](),d["\u0275\u0275template"](15,_,2,1,"div",6),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](16,"div",4),d["\u0275\u0275elementStart"](17,"label",7),d["\u0275\u0275text"](18,"Operador"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275element"](19,"input",10),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](20,"div",4),d["\u0275\u0275elementStart"](21,"label",7),d["\u0275\u0275text"](22,"Zona"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275element"](23,"input",11),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](24,"div",4),d["\u0275\u0275elementStart"](25,"label",7),d["\u0275\u0275text"](26,"Labor"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275element"](27,"input",12),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](28,"div",13),d["\u0275\u0275elementStart"](29,"label",7),d["\u0275\u0275text"](30,"Evidencias"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](31,"div",4),d["\u0275\u0275elementStart"](32,"label",7),d["\u0275\u0275text"](33,"Imagen"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275element"](34,"input",14),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](35,"div",4),d["\u0275\u0275elementStart"](36,"label",7),d["\u0275\u0275text"](37,"Audio"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275element"](38,"input",14),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](39,"div",4),d["\u0275\u0275elementStart"](40,"label",7),d["\u0275\u0275text"](41,"Capturar foto"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275element"](42,"input",15),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()),2&e&&(d["\u0275\u0275advance"](2),d["\u0275\u0275propertyInterpolate"]("cardTitle",t.title),d["\u0275\u0275property"]("options",!1),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("formGroup",t.bitacoraForm),d["\u0275\u0275advance"](5),d["\u0275\u0275property"]("ngClass",d["\u0275\u0275pureFunction1"](8,j,t.isValidField("date"))),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",t.isValidField("date")),d["\u0275\u0275advance"](4),d["\u0275\u0275property"]("ngClass",d["\u0275\u0275pureFunction1"](10,j,t.isValidField("actividad"))),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngForOf",t.actividades),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",t.isValidField("actividad")))},directives:[v.a,C.F,C.q,C.i,C.c,C.p,C.h,i.NgClass,i.NgIf,C.B,i.NgForOf,C.u,C.E],styles:[""]}),w),N=[{path:"",component:k},{path:"new",component:O},{path:"edit/:id",component:O},{path:"detail/:id",component:x}],L=((B=function e(){_classCallCheck(this,e)}).\u0275mod=d["\u0275\u0275defineNgModule"]({type:B}),B.\u0275inj=d["\u0275\u0275defineInjector"]({factory:function(e){return new(e||B)},imports:[[l.j.forChild(N)],l.j]}),B);n.d(t,"BitacoraModule",(function(){return A}));var M,A=((M=function e(){_classCallCheck(this,e)}).\u0275mod=d["\u0275\u0275defineNgModule"]({type:M}),M.\u0275inj=d["\u0275\u0275defineInjector"]({factory:function(e){return new(e||M)},imports:[[i.CommonModule,L,r.a,o.a]]}),M)}}]);